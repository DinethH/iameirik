<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/polymer/lib/utils/render-status.html"><link rel="import" href="../bower_components/iron-image/iron-image.html"><link rel="import" href="lazy-image.html"></head><body><dom-module id="lazy-image"><template><style>:host{display:block;}iron-image{width:100%;height:100%;}</style><iron-image id="img" style="background-color: lightgray" sizing="cover" preload="" fade=""></iron-image></template><script>class LazyImage extends Polymer.Element{static get is(){return'lazy-image'}static get properties(){return{src:{type:String}}}connectedCallback(){super.connectedCallback(),Polymer.RenderStatus.afterNextRender(this,()=>{const a=this.$.img;if(window.IntersectionObserver){const b=new IntersectionObserver(this._callback.bind(this));b.observe(a)}else a.setAttribute('src',this.src)})}_callback(a,b){a.forEach(c=>{c.isIntersecting&&(c.target.setAttribute('src',this.src),b.unobserve(c.target))})}}window.customElements.define(LazyImage.is,LazyImage);</script></dom-module></body></html>